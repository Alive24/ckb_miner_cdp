# CoMine Protocol

Combine CKB mining and collateralised debt positions (CDPs) to implement decentralised and tokenised mining for the community and mining-specific DeFi services.

Mining providers (operators of mining machine) monetise future mining capacity at a discount reflecting time preference and risk. Mining sponsors (buyers) provide immediate capital and tolerance for time cost for future mining yields and exposure without infrastructure investment, necessary expertise, or operational burden.

## Overview

### Initiatives

- Decentralisation: Mining, Speculating, Leveraging, Settlement;
- Community: Open-source; Serverless; Fund DAO; Price stabilisation; Adoption of iCKB;
- Mining-Specific DeFi: Tradable Mining Contract Token (mCKB), Mining Offering, Mining Recruiting; Over-collateralisation for Risk Mitigation and solvency with Liquidation, Redemption, (M2) Stability Pool

### Collective Mining: Tokenised and decentralised

- Collective mining instead of single miner and a single investor; Decouple mining provider and mining sponsor, offering and recruiting;
- Incentivization:
  - Waive fee for miners mining directly to protocol pool, and miners with specific attributes;
  - (M2) Protocol token rewards for miners with specific attributes;

### Permanent Community Infrastructure

- Decentralization:
  - Should keep operating automatically even if no further development is ongoing;
  - Does not rely on dedicated server; runs on any serverless functions provider;
  - No admin is required.
  - Does not require initial funding
- Public Interests:
  - Buffer for price stabilisation
  - Promote usage of iCKB
  - Fund DAO

## Core Modules

### Roles

- User Roles:
  - Miner: Owners/operators of physical mining machine that provides tokenised mining services by minting mCKB to mining sponsors against new debt which MP repays in the future.
  - Sponsor: Participants that engage in tokenised mining by minting mining contract token from MP with immediate funding.
  - Redeemer: Holders of mCKB that redeems mCKB for CKB 1:1.
  - (M2) Liquidity Provider: Stake liquidity to help treasury with solvency and mitigate risks for rewards in liquidation and redemption.
- Protocol Roles:
  - Treasury: A public actor in the protocol that mitigates solvency risks and yields protocol revenue for the purpose of building an independent and self-sustainable DAO;
  - Redeemee: Mining providers with lowest ICR below CCR. If all ICR are above CCR, treasury would be the redeemee proportionally.
  - (M2) Liquidator: Liquidity providers that participated and earn extra rewards in a successful liquidation. Treasury would participate proportionally.

### Mechanism

- Mining Schedule
  - Mining Offering: A mining schedule proposal by miners with a price (either in CKB or stable coin) for any sponsor to mint mCKB against the miner’s debt.
  - Mining Recruiting: A mining schedule proposal by sponsors with a price (either in CKB or stable coin) for any miner to mint mCKB against their own debt.
  - Deposit / Debt / Repay: Miner needs to deposit collaterals against their debt (nominated by mCKB 1:1 to the amount the miner minted) and maintain a healthy ICR by either depositing more collaterals or repay debt with CKB.
- Collateral Ratio
  - Individual Collateral Ratio: The ratio of collateral to debt for any individual miner
  - Healthy Collateral Ratio: The standard for ICR to be healthy (M2) and earn protocol token
  - Total Collateral Ratio: The collective ratio of all collaterals and assets to all debt for the whole protocol.
  - Critical Collateral Ratio: The standard for ICR and TCR to be deemed as critical and in recovery mode. In recovery mode, any actions that would further lower ICR (for individual miners) or TCR (global) would be prohibited; partial liquidation would happen daily, and additional interest rate would apply until miner gets out of recovery mode by raising their ICR above CCR.
  - Liquidation Collateral Ratio: The bottom line for ICR under which the mining schedule would be fully liquidated; all collaterals and debt would be transferred to the treasury together with the liquidation reserve;
- Redemption: Holders of mCKB can redeem for collaterals deposited in the protocol 1:1 after 30 days. As redemption happens, mCKB would be burned and the same amount of debt would be removed.
- Liquidation: An automated procedure to ensure solvency that repays debt with the deposited collaterals for miners with ICR lower than CCR. This would partially restore unhealthy ICR but full liquidation would happen if ICR drops below LCR to ensure solvency.
- Treasury: A public actor to receive collaterals and debt from miners when they repay or get liquidated.
- (M2) Staking
- (M3) Multicollateralization

### Tokens

- Mining Contract Token (e.g. mCKB): MS Mint against MP’s debt 1:1 at a MP’s price; can redeem MP’s collaterals and then treasury’s assets 1:1.
- (M2) Protocol Token: Earn by keeping a healthy ICR, staking for stability pool or trading pool.
  - Tradable
  - Fee waiver
  - Voting for key parameters

Each milestone provides complete functionality for the version.

## Milestone 1: Collective Mining

[Milestone 1: Collective Mining](CDP%20Mining/Milestone%201%20Collective%20Mining%202d4a70a7fe4880f38050d5cc6bdae087.md)

## Milestone 2: Stability Pool and Protocol Token

[Milestone 2: Stability Pool and Protocol Token](CDP%20Mining/Milestone%202%20Stability%20Pool%20and%20Protocol%20Token%202d4a70a7fe488032bb23c652afd2ad9b.md)

## Milestone 3: Multicollateral Support

[Milestone 3: Multicollateral Support](CDP%20Mining/Milestone%203%20Multicollateral%20Support%202d8a70a7fe4880f8b686c13ab88d2afe.md)

## Milestone 4: Multi-assets Mining

[Milestone 4: Multi-assets Mining](CDP%20Mining/Milestone%204%20Multi-assets%20Mining%202d8a70a7fe488070ab70d55e8b9376bc.md)

Miscellaneous

[User Role: Miner](CDP%20Mining/User%20Role%20Miner%202d9a70a7fe48809189e9e7967fca89e9.md)

[User Role: Sponsor](CDP%20Mining/User%20Role%20Sponsor%202d9a70a7fe48803bbba9ff2ee0346624.md)

[Protocol Role: Treasury](CDP%20Mining/Protocol%20Role%20Treasury%202d9a70a7fe4880329111d859b43d230b.md)

[Sparse Notes](CDP%20Mining/Sparse%20Notes%202d9a70a7fe4880ba92e4ddc49f53c7a1.md)
