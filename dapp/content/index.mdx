# CoMine Protocol

CoMine combines CKB mining with collateralised debt positions (CDPs) to enable decentralised, tokenised mining for the community. Miners (operators of mining machines) monetise future mining capacity to fine control risk exposure and liquidity. Mining sponsors (buyers) provide immediate capital and accept time cost for future mining yields and exposure without infrastructure, expertise, or operational burden. By liquidations and redemptions, the protocol ensures solvency and capital efficiency.

## Initiatives

- **Decentralisation**: Collective Mining;
- **Permanent Infrastructure for the Community**: 
  - Fully open-source from the very beginning;
  - Serverless architecture on any provider, and does not rely on a dedicated server;
  - Requires no admin and no initial funding.
  - Milestones operates independently in continuous delivery;
  - Promote usage of iCKB;
  - Mitigate price volatility of CKB;
  - Fund a sustainable DAO;
- **Mining-Specific DeFi**: Tradable mining contract tokens (mCKB)
  - Fine tune liquidity with `Mining Offering` and `Mining Recruiting`; 
  - Allow speculation, leverage, and postponed settlement for miners and sponsors;
  - Over-collateralisation for risk mitigation and solvency with liquidation, redemption, and (M2) stability pool.

## Collective Mining: Tokenised and Decentralised
- **Anonymous**: Sponsors mint tradeable mCKB tokens against miners' debt 1:1 and redeem for target assets 1:1 without reaching out to each other;
- **Collective**: Redemption is backed by the whole protocol collectively instead of the actual miner;
- **Incentivisation**: By adjusting fee rates and issuing $COMINE, the protocol can incentivise miners with specific attributes (e.g. smaller size, different locations, different mining machines) to increase miner decentralisation.

## Core Modules

### Roles

- User Roles:
  - Miner: Owners/operators of physical mining machines who mint mCKB to sponsors against new debt that they repay in the future.
  - Sponsor: Participants who engage in tokenised mining by minting mining contract tokens from miners with immediate funding.
  - Redeemer: Holders of mCKB who redeem mCKB for CKB 1:1.
  - (M2) Liquidity Provider: Stake liquidity to help the treasury with solvency and mitigate risks for liquidation and redemption rewards.
- Protocol Roles:
  - Treasury: A public actor that mitigates solvency risks and yields protocol revenue to build an independent, self-sustainable DAO.
  - Redeemee: Mining providers with the lowest ICR below CCR. If all ICR are above CCR, treasury is the redeemee proportionally.
  - (M2) Liquidator: Liquidity providers who participate and earn extra rewards in successful liquidation. Treasury participates proportionally.

### Mechanism

- Mining Schedule:
  - Mining Offering: A mining schedule proposal by miners with a price (CKB or stable coin) for sponsors to mint mCKB against the miner’s debt.
  - Mining Recruiting: A mining schedule proposal by sponsors with a price (CKB or stable coin) for miners to mint mCKB against their own debt.
  - Deposit / Debt / Repay: Miners deposit collateral against their debt (mCKB minted 1:1) and maintain a healthy ICR by adding collateral or repaying debt with CKB.
- Collateral Ratio:
  - Individual Collateral Ratio (ICR): The ratio of collateral to debt for any individual miner.
  - Healthy Collateral Ratio: The standard for ICR to be healthy (M2) and earn $COMINE.
  - Total Collateral Ratio (TCR): The ratio of all collateral and assets to all debt for the protocol.
  - Critical Collateral Ratio (CCR): Threshold for recovery mode. In recovery mode, actions that lower ICR (individual) or TCR (global) are prohibited; partial liquidation occurs daily and additional interest applies until ICR rises above CCR.
  - Liquidation Collateral Ratio (LCR): The bottom line for ICR under which a mining schedule is fully liquidated and collateral plus debt are transferred to the treasury with the liquidation reserve.
- Redemption: Holders of mCKB redeem for protocol collateral 1:1 after 30 days (by default; faster options available with fee). mCKB is burned and the same amount of debt is removed.
- Liquidation: An automated procedure that repays debt with deposited collateral for miners with ICR below CCR. Partial liquidation restores unhealthy ICR; full liquidation happens if ICR drops below LCR.
- Treasury: Receives collateral and debt from miners when they repay or get liquidated.
- (M2) Staking
- (M3) Multicollateralisation

### Tokens

- Mining Contract Token (mCKB): Minted by sponsors against miner debt 1:1 at the miner’s price; redeemable for miner collateral and treasury assets 1:1.
- (M2) $COMINE: Earned by keeping a healthy ICR, staking to the stability pool, or trading pools.
  - Tradable
  - Fee waiver
  - Voting for key parameters

Each milestone provides complete functionality for its version.

## Milestones

- [Collective Mining (M1)](./Collective%20Mining%20%28M1%29)
- [Stability Pool and $COMINE (M2)](./Stability%20Pool%20and%20Protocol%20Token%20%28M2%29)
- [Milestone 3: Multicollateral Support](./Roadmaps/Milestone%203%20Multicollateral%20Support)
- [Milestone 4: Multi-assets Mining](./Roadmaps/Milestone%204%20Multi-assets%20Mining)

## Roles and Notes

- [User Role: Miner](./User%20Roles/Miner)
- [User Role: Sponsor](./User%20Roles/Sponsor)
- [Protocol Role: Treasury](./Protocol%20Roles/Treasury)
- [Sparse Notes](./Sparse%20Notes/Sparse%20Notes)
